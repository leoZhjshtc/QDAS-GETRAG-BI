<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ include file="../meta.jsp" %>
<html>
<head>
</head>
<body>
<table style="height: 100%;width: 100%;background-image: url(<%=basePath%>resources/images/chejianbg.png); background-size: cover;">
    <tr>
        <td colspan="2">
            <div class="tdblock">
                <div class="innerNoData" id="machine1">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>001-061</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData" id="machine2">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-016</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <div class="tdblock">
                <div class="innerNoData" id="machine3">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>051-018</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData" id="machine4">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-007</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData" id="machine5">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-011</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData" id="machine6">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-007</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData" id="machine7">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-005</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <div class="tdblock">
                <div class="innerNoData" id="machine8">
                    <div class="divTitle">
                        <p>OP250珩齿</p>
                        <p>057-007</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>001-046</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>001-034</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>051-010</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-016</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-035</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-034</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-016</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-011</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>001-035</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>001-036</p>
                    </div>
                </div>
            </div>
        </td>
        <td rowspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP280硬车磨</p>
                        <p>003-012</p>
                    </div>
                </div>
            </div>
        </td>
        <td rowspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP280硬车磨</p>
                        <p>003-014</p>
                    </div>
                </div>
            </div>
        </td>
        <td rowspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-030</p>
                    </div>
                </div>
            </div>
        </td>
        <td rowspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-029</p>
                    </div>
                </div>
            </div>
        </td>
        <td rowspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-007</p>
                    </div>
                </div>
            </div>
        </td>
        <td rowspan="2">
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-012</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-014</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-024</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="4" rowspan="4">
            <div class="blank2">
                <div class="text">热处理区域</div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-023</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-033</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-006</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-015</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-032</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-018</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-006</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-013</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-020</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-021</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>058-004</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-013</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-031</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP60滚齿</p>
                        <p>005-019</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP240磨齿</p>
                        <p>005-009</p>
                    </div>
                </div>
            </div>
        </td>
        <td>
            <div class="tdblock">
                <div class="innerNoData">
                    <div class="divTitle">
                        <p>OP220硬车</p>
                        <p>003-011</p>
                    </div>
                </div>
            </div>
        </td>
    </tr>
</table>
<link rel="stylesheet" type="text/css" href="<%=basePath %>resources/css/workshop.css"/>
<script type="text/javascript">
    $(function () {
        getProductLineData()
    })
    function getProductLineData() {
        $.ajax({
            type:'post',
            data:{
                startTime:startTime,
                endTime:endTime
            },
            url:'<%=basePath%>gqb/getMachineData',
            beforeSend:function(){
                initLoading('qbCenterPlPanel', 'loadingWs1');
            },
            success:function (data) {
                if(data.length>0){
                    for(var i=0;i<data.length;i++){
                        var machineId = data[i].WVMASCHINE;
                        var qflag=0;
                        for (var j = 0; j < data[i].wvList.length; j++) {
                            if (data[i].wvList[j].MEMERKART == '1') {
                                if (data[i].wvList[j].WVWERT.toString().indexOf('.') !== 0 & parseFloat(data[i].wvList[j].WVWERT.toString().substring(data[i].wvList[j].WVWERT.toString().indexOf(".") - 1) > 0)) {
                                    qflag=2;
                                    break;
                                }
                            } else {
                                if (data[i].wvList[j].MEUGW != undefined & data[i].wvList[j].MEUGW != '' & data[i].wvList[j].MEUGW != 'null' & parseFloat(data[i].wvList[j].MEUGW) > parseFloat(data[i].wvList[j].WVWERT)) {
                                    qflag=2;
                                    break;
                                }else if(data[i].wvList[j].MEOGW != undefined & data[i].wvList[j].MEOGW != '' & data[i].wvList[j].MEOGW != 'null' & parseFloat(data[i].wvList[j].MEOGW) < parseFloat(data[i].wvList[j].WVWERT)){
                                    qflag=2;
                                    break;
                                }
                            }
                        }
                        if(qflag==0){
                            $('#machine'+machineId).removeClass('innerNoData').addClass('innerSuccessData');
                            $('#machine'+machineId).on("click", {machineId: machineId}, machineDivClick);
                        }else if(qflag==2){
                            $('#machine'+machineId).removeClass('innerNoData').addClass('innerFailData');
                            $('#machine'+machineId).on("click", {machineId: machineId}, machineDivClick);
                        }
                    }
                }
                removeLoading('loadingWs1');
            }
        })
    }
    function machineDivClick(event) {
        console.log(event.data.machineId);
    }
</script>
</body>
</html>